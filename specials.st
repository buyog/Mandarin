; States file for Mandarin -- Specials
;
;---------------------------------------------------------------------------
; Vars:
;   0: for Super Jump (0=vertical, 1=forward, -1=backward)
; Helpers:
;   0: superjump opponent position indicator
; Explods:
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Special Attacks
; 
; Poison Gas (D, DF, F + WP) - states 1000,1005
;---------------------------------------------------------------------------

;------------------------
; Poison Gas
[StateDef 1000]
anim = 220
ctrl = 0
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 95

[State 1000, swoosh]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2

[State 1000, ha!]
type = PlaySnd
trigger1 = AnimElem = 2
value = 9,0

[State 1000, fwoosh]
type = PlaySnd
trigger1 = AnimElem = 4
value = 9,1

[State 1000, Projectile]
type = Projectile
trigger1 = AnimElem = 4
ProjID = 1000
projanim = 1000
projhitanim = 1005
projremanim = 1005
projcancelanim = 1005
velocity = 5,0
projsprpriority = 3
offset = 80,-50
; HitDef
attr = S,SP
hitflag = MAF
guardflag = MA
;getpower = 0,0
;givepower = 0,0
animtype = hard
priority = 3,Hit
damage = 5,0
pausetime = 7,0
;sparkno = 0
;guard.sparkno = 0
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = Low
ground.slide = 8
ground.hittime = 7
ground.velocity = -4,0
sprpriority = 1
p2stateno = 1050

[State 1000, back to stance]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------
; Poisoned
[Statedef 1050]
type    = A
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State 1050, ChangeAnim]
type = ChangeAnim
triggerall = Time = 0
trigger1 = AnimExist(5300)
value = 5300

[State 1050, poweradd]
type = PowerAdd
trigger1 = Time % 5 = 0
value = -1

[State 1050, damage]
type = LifeAdd
trigger1 = Time % 5 = 0
value = -5
kill = 1

;Generated by Fighter Factory PalFX Editor
[State 1050, PalFXWiz]
type = PalFX
trigger1 = Time = 0
time = 200
add = 100,0,100
mul = 120,20,124
sinadd = 85,110,55,10
invertall = 1
color = 0

[State 1050, selfstate]
type = SelfState
trigger1 = Time = 200
ctrl = 1
value = 5070

