; States file for Mandarin -- Hypers
;
;---------------------------------------------------------------------------
; Vars:
;   0: for Super Jump (0=vertical, 1=forward, -1=backward)
; Helpers:
;   0: superjump opponent position indicator
; Explods:
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; Hyper Attacks
; 
; Poison Gas (D, DF, F + PP) - states 3000 - 3010
;---------------------------------------------------------------------------

;------------------------
; Poison Gas
[StateDef 3000]
anim = 220
ctrl = 0
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 95

[State 3000, swoosh]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2

[State 3000, ha!]
type = PlaySnd
trigger1 = AnimElem = 2
value = 9,0

[State 3000, fwoosh]
type = PlaySnd
trigger1 = AnimElem = 4
value = 9,1

[State 3000, Projectile]
type = Projectile
trigger1 = AnimElem = 4
ProjID = 3000
projanim = 3010
projhitanim = 3015
projremanim = 3015
projcancelanim = 3015
velocity = 5,0
projsprpriority = 3
offset = 80,-50
; HitDef
attr = S,HP
hitflag = MAF
guardflag = MA
;getpower = 0,0
;givepower = 0,0
animtype = hard
priority = 3,Hit
damage = 5,0
pausetime = 7,0
;sparkno = 0
;guard.sparkno = 0
;sparkxy = 0,0
;hitsound = 0,0
;guardsound = 0,0
ground.type = Low
ground.slide = 8
ground.hittime = 7
ground.velocity = -4,0
sprpriority = 1
p2stateno = 1050

[State 3000, back to stance]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;------------------------
; Poisoned
[Statedef 3050]
type    = A
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State 3050, ChangeAnim]
type = ChangeAnim
triggerall = !Time
trigger1 = AnimExist(5300)
value = 5300

[State 3050, poweradd]
type = PowerAdd
trigger1 = Time % 5 = 0
value = -1

[State 3050, damage]
type = LifeAdd
trigger1 = Time % 5 = 0
value = -5
kill = 1

;Generated by Fighter Factory PalFX Editor
[State 1050, PalFXWiz]
type = PalFX
trigger1 = Time = 0
time = 200
add = 100,0,100
mul = 120,20,124
sinadd = 85,110,55,10
invertall = 1
color = 0

[State 3050, selfstate]
type = SelfState
trigger1 = Time = 200
ctrl = 1
value = 5070

;---------------------------------------------------------------------------
; Hyper1 (intro)
[StateDef 3100]
type    = S
physics = S
ctrl = 1
anim = 0        ; change this to the anim char will perform when the Hyper starts
velset = 0,0

[State 3100, superpause]
type = SuperPause
trigger1 = time = 2
time = 40
sound = S10,1
pos = 0,-50
darken = 1
poweradd = -1000

[State 3100, orb]
type = Explod
trigger1 = time = 2
name = "Orb"
pos = 0,-50
postype = p1
anim = 8000
supermove = 40
pausemovetime = 1
scale = .35, .35
ownpal = 1

[State 3100, superportrait]
type = Explod
trigger1 = time = 2
anim = 10000
ID = 10000
pos = 0,0
postype = back
bindtime = 999
removetime = 40
supermove = 40
pausemovetime = 40
sprpriority = -1
ownpal = 1

[State 3100, superbg]
type = Explod
trigger1 = time = 2
anim = 10005
ID = 10005
pos = 0,0
postype = back
bindtime = 999
removetime = 40
supermove = 40
pausemovetime = 40
sprpriority = -2
ownpal = 1

[State 3100, back to normal]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
